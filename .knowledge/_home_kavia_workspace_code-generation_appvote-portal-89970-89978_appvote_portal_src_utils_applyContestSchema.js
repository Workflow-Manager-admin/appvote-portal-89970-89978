{"is_source_file": true, "format": "JavaScript", "description": "This file contains a utility function to apply necessary database schema changes for a contest feature, including schema verification, initial data setup, and error handling. It interacts with a Supabase backend using RPC calls and direct table queries.", "external_files": ["../config/supabaseClient"], "external_methods": ["supabase.rpc", "supabase.from", "toast.info", "toast.error"], "published": ["applyContestSchema"], "classes": [], "methods": [{"name": "applyContestSchema", "description": "Asynchronous utility function to verify and set up contest database schema, including checking table existence, verifying columns, and inserting initial contest weeks if absent."}], "calls": ["supabase.rpc('get_tables')", "supabase.from('contest_weeks').select('id')", "supabase.from('apps').select('contest_week_id')", "supabase.from('contest_weeks').select('id')", "supabase.from('contest_weeks').insert([...])", "toast.info(...)", "toast.error(...)", "console.log", "console.error"], "search-terms": ["applyContestSchema", "contest_weeks table", "Supabase schema setup", "initial contest weeks", "schema verification", "contest schema migration"], "state": 2, "file_id": 84, "knowledge_revision": 290, "git_revision": "f5b79ef134ce643c5d8c53aa1f73f2d2b383171b", "revision_history": [{"268": "8a0a1dd4565f1169e294937ea48e89ec919de39b"}, {"277": "bc34fdd3e3e572dadf3477ed6d5cdde4097b8d51"}, {"290": "f5b79ef134ce643c5d8c53aa1f73f2d2b383171b"}], "ctags": [{"_type": "tag", "name": "applyContestSchema", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/utils/applyContestSchema.js", "pattern": "/^const applyContestSchema = async () => {$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/utils/applyContestSchema.js", "hash": "346df0d98a565df51b90d548729cb40e", "format-version": 4, "code-base-name": "default"}