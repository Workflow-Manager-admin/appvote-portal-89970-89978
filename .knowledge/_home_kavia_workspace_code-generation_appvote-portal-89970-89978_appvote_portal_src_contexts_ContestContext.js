{"is_source_file": true, "format": "JavaScript", "description": "React context for managing contest weeks, winners, and related state within the app. Provides hooks and functions for fetching, updating, and organizing contest data, including real-time updates via Supabase subscriptions.", "external_files": ["../config/supabaseClient", "./AuthContext"], "external_methods": ["useAuth", "toast"], "published": ["useContest", "ContestProvider"], "classes": [], "methods": [{"name": "useContest()", "description": "Hook for components to access contest context data.", "scope": "", "scopeKind": ""}, {"name": "ContestProvider({ children })", "description": "React provider component that manages contest state, fetches data, handles real-time updates, and exposes contest-related functions to child components.", "scope": "", "scopeKind": ""}, {"name": "fetchWinners", "description": "Fetches contest winners from database and organizes them by contest week."}, {"name": "switchWeek", "description": "Sets the current contest week based on the provided week ID."}, {"name": "updateContestStatus", "description": "Admin function to update the status of a contest week, ensuring only one active week at a time, and updating relevant database records."}, {"name": "selectWinner", "description": "Admin function to select or update a winner for a specific contest week and position. Also marks the contest as completed if all winners are identified."}, {"name": "canSubmitApps", "description": "Determines if users are allowed to submit apps during the current contest state."}, {"name": "canVote", "description": "Determines if users can vote during the current contest state."}, {"name": "getWinnersForWeek", "description": "Retrieves the list of winners for a specified week."}, {"name": "getAllWeeks", "description": "Returns data on all contest weeks."}, {"name": "getActiveWeek", "description": "Returns the currently active contest week."}], "calls": ["supabase.from('contest_weeks').select('*')", "supabase.from('contest_winners').select(...)", "supabase.from('contest_weeks').update(...)", "supabase.from('contest_winners').update(...)", "supabase.from('contest_winners').insert(...)", "supabase.from('contest_weeks').select('*')"], "search-terms": ["ContestContext", "React", "supabase", "contest weeks", "winners", "updateContestStatus", "selectWinner", "useAuth", "real-time subscription"], "state": 2, "file_id": 81, "knowledge_revision": 272, "git_revision": "ad60d7e0a5f2eec92cca11c726fb7714a8ced625", "revision_history": [{"241": "02680ffdd95d11d33d93e0e6a31a0998edfc9b92"}, {"272": "ad60d7e0a5f2eec92cca11c726fb7714a8ced625"}], "ctags": [{"_type": "tag", "name": "ContestContext", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^const ContestContext = createContext();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ContestProvider", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^export function ContestProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^    loading,$/", "language": "JavaScript", "kind": "field", "scope": "ContestProvider.value", "scopeKind": "class"}, {"_type": "tag", "name": "useContest", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^export function useContest() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^    <ContestContext.Provider value={value}>$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "hash": "b47ea03ac913a08cfb1937be65eb0694", "format-version": 4, "code-base-name": "default", "fields": [{"name": "loading,", "scope": "ContestProvider.value", "scopeKind": "class", "description": "unavailable"}, {"name": "<ContestContext.Provider value={value}>", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}