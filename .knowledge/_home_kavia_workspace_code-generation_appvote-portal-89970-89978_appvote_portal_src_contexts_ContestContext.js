{"is_source_file": true, "format": "JavaScript", "description": "React context provider for managing contest weeks, winners, and related state in an application. Includes hooks, state management, effects for data fetching, and functions for admin operations.", "external_files": ["../config/supabaseClient", "./AuthContext"], "external_methods": ["useAuth", "supabase.from", "supabase.channel", "toast.error", "toast.success"], "published": ["useContest", "ContestProvider"], "classes": [], "methods": [{"name": "useContest()", "description": "Custom hook to access the contest context.", "scope": "", "scopeKind": ""}, {"name": "ContestProvider({ children })", "description": "Provider component that manages and provides contest state and functions to child components.", "scope": "", "scopeKind": ""}, {"name": "fetchWinners", "description": "Fetches contest winners data from the database and organizes it by contest week."}, {"name": "switchWeek", "description": "Switches current contest week to a specified week ID."}, {"name": "updateContestStatus", "description": "Admin function to update the status of a contest week (e.g., active, ended, completed)."}, {"name": "selectWinner", "description": "Admin function to assign a winner to a contest week for a specific position."}, {"name": "canSubmitApps", "description": "Checks if users are allowed to submit apps in the current week."}, {"name": "canVote", "description": "Checks if users can vote in the current week."}, {"name": "getWinnersForWeek", "description": "Retrieves the list of winners for a given week."}, {"name": "getAllWeeks", "description": "Returns the list of all contest weeks."}, {"name": "getActiveWeek", "description": "Returns the current active contest week, if any."}], "calls": ["useContext", "supabase.from", "supabase.channel", "setContestWeeks", "setCurrentWeek", "setWinners", "setLoading", "useAuth", "toast.error", "toast.success", "fetchWinners", "supabase.select", "supabase.insert", "supabase.update", "supabase.select", "supabase.eq"], "search-terms": ["ContestContext", "useContest", "contest_weeks", "contest_winners", "supabase", "active contest week", "winner selection", "admin contest control", "contest status update"], "state": 2, "file_id": 81, "knowledge_revision": 296, "git_revision": "98080b46aed98ea30fa7e2bb8fcd58059514d9f7", "revision_history": [{"241": "02680ffdd95d11d33d93e0e6a31a0998edfc9b92"}, {"272": "ad60d7e0a5f2eec92cca11c726fb7714a8ced625"}, {"296": "98080b46aed98ea30fa7e2bb8fcd58059514d9f7"}], "ctags": [{"_type": "tag", "name": "ContestContext", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^const ContestContext = createContext();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ContestProvider", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^export function ContestProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^    loading,$/", "language": "JavaScript", "kind": "field", "scope": "ContestProvider.value", "scopeKind": "class"}, {"_type": "tag", "name": "useContest", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^export function useContest() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "pattern": "/^    <ContestContext.Provider value={value}>$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/contexts/ContestContext.js", "hash": "9f484937d0234fcd9194834af85c1925", "format-version": 4, "code-base-name": "default", "fields": [{"name": "loading,", "scope": "ContestProvider.value", "scopeKind": "class", "description": "unavailable"}, {"name": "<ContestContext.Provider value={value}>", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}