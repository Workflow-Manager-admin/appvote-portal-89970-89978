{"is_source_file": true, "format": "JavaScript (React)", "description": "This file is a React component for the Home page of an app showcase and voting platform. It manages fetching and displaying apps, handling user votes, contest week selection, and user interactions such as voting and app submission status.", "external_files": ["../contexts/AuthContext", "../contexts/ContestContext", "../config/supabaseClient"], "external_methods": ["useAuth", "useContest", "supabase.from", "getImageUrl", "toast", "console.log", "console.error", "toast.error", "toast.success"], "published": ["Home"], "classes": [], "methods": [{"name": "fetchUserVotes", "description": "Fetches votes made by the current user, with filtering based on the selected contest week and contest structure validity."}, {"name": "fetchUserProfile", "description": "Fetches the profile data of the current user."}, {"name": "fetchApps", "description": "Fetches the list of apps submitted for the current contest week, with fallback handling for schema inconsistencies."}, {"name": "handleVote", "description": "Handles voting logic, including adding or removing a vote, enforcing vote limits, and updating client state."}, {"name": "isOwnApp", "description": "Determines if the app was submitted by the current user."}, {"name": "handleWeekChange", "description": "Handles changing the contest week, updating state and re-fetching data."}], "calls": ["useState", "useEffect", "useCallback", "supabase.from", "supabase.select", "supabase.delete", "supabase.insert", "console.log", "console.error", "toast.error", "toast.success", "setApps", "setUserVotes", "setLoading", "switchWeek", "getAllWeeks", "fetchApps", "fetchUserVotes", "fetchUserProfile"], "search-terms": ["React Home Page", "Voting System", "Supabase Queries", "Contest Weeks", "App Submission"], "state": 2, "file_id": 27, "knowledge_revision": 293, "git_revision": "dc80a1dc966a690837eaa5ba003f08793dbaa904", "revision_history": [{"55": ""}, {"119": ""}, {"127": ""}, {"128": ""}, {"219": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"220": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"221": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"226": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"249": "b37b1bd7f4861a93dda18b7f5d378be1ea1f4596"}, {"250": "0946da5be93d61a170bf1b461e004bf85a1c6004"}, {"251": "77072cf68e0ec2e2b72ce7a800b4e4c558ae7871"}, {"252": "77072cf68e0ec2e2b72ce7a800b4e4c558ae7871"}, {"253": "a7815c38ca0bd220c75da88d0fe1d69e68e7ae4b"}, {"254": "91bc9836326eb2656f4461650fcc1c789b02fa1c"}, {"271": "2891499db4720fcba7d667a51adf80c8fb386e86"}, {"273": "ad60d7e0a5f2eec92cca11c726fb7714a8ced625"}, {"274": "f3a71f7dc5413c180095964725527f1874350b68"}, {"291": "5f476d6f1f59d5cf8f768aa9f88a602d82e07398"}, {"292": "dc80a1dc966a690837eaa5ba003f08793dbaa904"}, {"293": "dc80a1dc966a690837eaa5ba003f08793dbaa904"}], "ctags": [{"_type": "tag", "name": "Home", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^const Home = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "allWeeks", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const allWeeks = getAllWeeks();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchApps", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const fetchApps = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchUserProfile", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const fetchUserProfile = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchUserVotes", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const fetchUserVotes = useCallback(async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleVote", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const handleVote = async (appId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleWeekChange", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const handleWeekChange = (weekId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isOwnApp", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const isOwnApp = (appUserId) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setApps", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const [apps, setApps] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedWeekId", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const [selectedWeekId, setSelectedWeekId] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setUserVotes", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "pattern": "/^  const [userVotes, setUserVotes] = useState([]);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/Home.js", "hash": "63a95dd70e605fc81b665041fdda8c9d", "format-version": 4, "code-base-name": "default"}