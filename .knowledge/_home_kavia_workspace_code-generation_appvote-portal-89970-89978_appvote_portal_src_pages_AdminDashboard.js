{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "React component for the Admin Dashboard page: fetches app data with votes, displays a table, provides sharing and export features, and includes an image repair utility.", "external_files": ["../contexts/AuthContext", "../config/supabaseClient", "../utils/ImageRepairTool", "react-toastify"], "external_methods": ["useAuth", "toast.error", "toast.success"], "published": ["AdminDashboard"], "classes": [], "methods": [{"name": "fetchApps", "description": "Fetches app data along with user profiles and emails, processes and sorts the data, and updates the state."}, {"name": "generateShareableLink", "description": "Generates a shareable text content with top 10 apps and opens a modal for sharing."}, {"name": "copyToClipboard", "description": "Copies the generated share text to clipboard and shows success/failure toast."}, {"name": "exportToCsv", "description": "Exports the current apps data as a CSV file for download."}], "calls": ["supabase.from('apps').select(...)", "supabase.from('profiles').select(...).in('id', userIds)", "supabase.from('auth.users').select(...).in('id', userIds)", "navigator.clipboard.writeText(...)"], "search-terms": ["AdminDashboard", "fetchApps", "generateShareableLink", "exportToCsv", "React", "supabase", "vote counts", "top 10 apps", "share modal", "ImageRepairTool"], "state": 2, "file_id": 31, "knowledge_revision": 236, "git_revision": "da1c2085752a9645490581c288e912167582a7c9", "revision_history": [{"63": ""}, {"135": ""}, {"136": ""}, {"218": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"236": "da1c2085752a9645490581c288e912167582a7c9"}], "ctags": [{"_type": "tag", "name": "AdminDashboard", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^const AdminDashboard = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "blob", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const blob = new Blob([csvContent], { type: 'text\\/csv;charset=utf-8;' });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const content = top10Apps.map(app => $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "copyToClipboard", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const copyToClipboard = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "csvContent", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const csvContent = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "csvHeader", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const csvHeader = ['Rank', 'App Name', 'App Link', 'Username', 'Email', 'Registration Number/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "csvRows", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const csvRows = apps.map(app => [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "emailsMap", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^      const emailsMap = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "exportToCsv", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const exportToCsv = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchApps", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const fetchApps = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "generateShareableLink", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const generateShareableLink = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "link", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const link = document.createElement('a');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "processedApps", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^      const processedApps = appsData.map(app => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "profilesMap", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^      const profilesMap = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setApps", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const [apps, setApps] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShareUrl", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const [shareUrl, setShareUrl] = useState('');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowShareModal", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^  const [showShareModal, setShowShareModal] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "shareText", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const shareText = `\ud83d\udcf1 Top 10 Apps from AppVote Portal \ud83d\udcf1\\\\n\\\\n${content}\\\\n\\\\nShared fro/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "top10Apps", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const top10Apps = apps.slice(0, 10);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^    const url = URL.createObjectURL(blob);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "userIds", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "pattern": "/^      const userIds = appsData.map(app => app.user_id);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AdminDashboard.js", "hash": "415aa0ef2bd3d75d1e1954b36b3d4e11", "format-version": 4, "code-base-name": "default"}