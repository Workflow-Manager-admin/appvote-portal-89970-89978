{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "A React component source file for the DebugPage, which includes debugging utilities for storage and schema validation in a web app. It contains a DebugPage component and a nested ContestSchemaDebugger component, among others.", "external_files": ["../config/supabaseClient", "../utils/ImageDebugger", "../utils/validateContestSchema", "react", "react-router-dom", "react-toastify"], "external_methods": ["supabase.storage.listBuckets", "supabase.storage.from", "toast.error", "toast.success", "toast.warn"], "published": [], "classes": [{"name": "ContestSchemaDebugger", "description": "Component providing schema validation and fixing functionality for contest schemas, including validation results display and automated fixes."}, {"name": "DebugPage", "description": "Main debug page component integrating storage debugging, image testing, schema debugging, and utility components."}], "methods": [{"name": "handleValidateClick", "description": "Triggers validation of contest schema and updates state with results."}, {"name": "handleFixClick", "description": "Attempts to fix detected schema issues and re-validates schema, updating results accordingly."}, {"name": "renderValidationStatus", "description": "Displays the current validation status and issues if invalid."}, {"name": "renderFixResults", "description": "Shows the result of attempted schema fixes."}, {"name": "checkBucket", "description": "Checks if the 'app_images' storage bucket exists and lists files."}, {"name": "handleTestUpload", "description": "Uploads a test image to storage and retrieves its public URL."}], "calls": ["supabase.storage.listBuckets", "supabase.storage.from('app_images').list", "supabase.storage.from('app_images').upload", "supabase.storage.from('app_images').getPublicUrl", "validateContestSchema", "fixContestSchemaIssues"], "search-terms": ["DebugPage React component", "schema validation", "contest schema debugger", "storage bucket check", "supabase image upload", "schema fix operations"], "state": 2, "file_id": 50, "knowledge_revision": 301, "git_revision": "1939c1ff610e11d85735495c5e79edea2a5dde50", "revision_history": [{"123": ""}, {"222": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"299": "44d7d406456546ad94082122cd4411bda6e26fa7"}, {"300": "c94aa526dee4d5bcd698ca049bab1f96a3ebad7e"}, {"301": "1939c1ff610e11d85735495c5e79edea2a5dde50"}], "ctags": [{"_type": "tag", "name": "ContestSchemaDebugger", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^const ContestSchemaDebugger = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DebugPage", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^const DebugPage = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "base64Image", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^      const base64Image = 'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAA/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "filePath", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^      const filePath = `debug\\/test-${Date.now()}.png`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleFixClick", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const handleFixClick = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleTestUpload", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const handleTestUpload = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleValidateClick", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^          onClick={handleValidateClick} $/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleValidateClick", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const handleValidateClick = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "imageData", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^      const imageData = Uint8Array.from(atob(base64Image), c => c.charCodeAt(0));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "renderFixResults", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const renderFixResults = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "renderValidationStatus", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const renderValidationStatus = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^      const results = await fixContestSchemaIssues(validationResults);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^      const results = await validateContestSchema();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setBucketStatus", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [bucketStatus, setBucketStatus] = useState('Checking...');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setFiles", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [files, setFiles] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setFixResults", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [fixResults, setFixResults] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setFixing", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [fixing, setFixing] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setTestImageUrl", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [testImageUrl, setTestImageUrl] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setTestResult", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [testResult, setTestResult] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setValidating", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [validating, setValidating] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setValidationResults", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^  const [validationResults, setValidationResults] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updatedResults", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^        const updatedResults = await validateContestSchema();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validating", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "pattern": "/^          disabled={validating}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/DebugPage.js", "hash": "04effd0459d1a5809d91ea783d23c325", "format-version": 4, "code-base-name": "default", "fields": [{"name": "onClick={handleValidateClick}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={validating}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}]}