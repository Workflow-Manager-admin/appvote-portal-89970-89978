{"is_source_file": true, "format": "JavaScript (React component)", "description": "A React component for adding an application, including image upload, form handling, and submission logic interacting with Supabase storage and database.", "external_files": ["../contexts/AuthContext", "../contexts/ContestContext", "../config/supabaseClient"], "external_methods": ["useState", "useNavigate", "useForm", "toast.error", "toast.success", "uuidv4", "useAuth", "useContest", "supabase.storage.from", "getImageUrl"], "published": ["AddApp"], "classes": [], "methods": [{"name": "handleImageChange", "description": "Handles image file input, validates file type and size, and previews the selected image."}, {"name": "onSubmit", "description": "Handles form submission, uploads image to Supabase storage, and inserts app data into database."}], "calls": ["useForm", "useNavigate", "useAuth", "useContest", "supabase.storage.from('app_images').upload", "getImageUrl", "supabase.from('apps').insert", "toast.error", "toast.success"], "search-terms": ["AddApp", "React", "Image Upload", "Supabase", "Form Submission", "App Submission", "Contest Context", "Auth Context"], "state": 2, "file_id": 30, "knowledge_revision": 275, "git_revision": "51e2bf95db4ea67bd8e81625a0afb7c9a72c1c7d", "revision_history": [{"61": ""}, {"87": ""}, {"91": ""}, {"118": ""}, {"129": ""}, {"130": ""}, {"216": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"217": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"225": "d3e2c78b02e1d081abb18a85891422c2b2df5156"}, {"255": "62643f4f40f4ac559dcd3fb117d1c7b3829b3b48"}, {"256": "4e30a41ea1407cd3e8d368a9b91e70e69f59fd81"}, {"257": "002ca7d827ce134730d3e068d39eedba7c01c117"}, {"258": "6d908dfe4e89aa2bf5fbd420e767c0684dfcab78"}, {"275": "51e2bf95db4ea67bd8e81625a0afb7c9a72c1c7d"}], "ctags": [{"_type": "tag", "name": "AddApp", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^const AddApp = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^              className={errors.image ? 'input-error' : ''}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^              className={errors.link ? 'input-error' : ''}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^              className={errors.name ? 'input-error' : ''}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}, {"_type": "tag", "name": "file", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^    const file = e.target.files[0];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fileExt", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^          const fileExt = imageFile.name.split('.').pop();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fileName", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^          const fileName = `${uuidv4()}.${fileExt}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "filePath", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^          const filePath = `${user.id}\\/${fileName}`;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleImageChange", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^              onChange={handleImageChange}$/", "language": "JavaScript", "kind": "field", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleImageChange", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^  const handleImageChange = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "imageFile", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^      const imageFile = data.image[0];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "imageUrl", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^      let imageUrl = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^            disabled={loading || !canSubmitApps()}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^  const navigate = useNavigate();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onSubmit", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^  const onSubmit = async (data) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "previewUrl", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^    const previewUrl = URL.createObjectURL(file);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "publicUrl", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^          const publicUrl = getImageUrl('app_images', filePath);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setImagePreview", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^  const [imagePreview, setImagePreview] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "pattern": "/^  const [loading, setLoading] = useState(false);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/appvote-portal-89970-89978/appvote_portal/src/pages/AddApp.js", "hash": "2ca080c97cf29a1f97e7939226cfb5a6", "format-version": 4, "code-base-name": "default", "fields": [{"name": "className={errors.image ? 'input-error' : ''}", "scope": "className", "scopeKind": "class", "description": "unavailable"}, {"name": "className={errors.link ? 'input-error' : ''}", "scope": "className", "scopeKind": "class", "description": "unavailable"}, {"name": "className={errors.name ? 'input-error' : ''}", "scope": "className", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleImageChange}", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "let imageUrl = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "disabled={loading || !canSubmitApps()}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}]}